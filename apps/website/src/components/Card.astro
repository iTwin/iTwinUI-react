---
import ComponentIcon from './ComponentIcon.astro';

type Props = {
  url: string;
  title: string;
  description?: string;
  image?: string;
} & astroHTML.JSX.LiHTMLAttributes;

const { url, title, description, image, class: className, ...rest } = Astro.props;
---

<li class:list={['card', className]} {...rest}>
  {image && <ComponentIcon icon={image} />}
  <div class='text'>
    <h2>
      <a href={url}>{title}</a>
    </h2>
    {description && <p>{description}</p>}
  </div>
</li>

<style lang='scss'>
  .card {
    position: relative;
    display: flex;
    flex: 1 0 20%;
    flex-direction: column;
    gap: var(--space-3);
    padding: var(--space-3);
    border-radius: var(--border-radius-1);
  }
  a {
    color: var(--color-text);
    text-decoration: none;

    &:where(:focus) {
      outline: none;
      text-decoration: none;
    }

    &::after {
      content: '';
      position: absolute;
      inset: 0;
    }
  }

  .text {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
  }
</style>
