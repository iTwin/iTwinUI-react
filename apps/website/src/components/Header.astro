---
import * as CONFIG from '../config';
import SkipLink from './utils/SkipLink.astro';
import SidebarToggle from './SidebarToggle';
import VisuallyHidden from './utils/VisuallyHidden.astro';

export type Props = { class?: string };
---

<header class={Astro.props.class}>
  <SkipLink />

  <!-- TODO: improve this mobile navbar -->
  <div class='menu-toggle'>
    <SidebarToggle client:idle />
  </div>

  <a href='/' class='logo'>
    <VisuallyHidden>iTwinUI home</VisuallyHidden>
    <svg
      width='133.6'
      height='32'
      xmlns='http://www.w3.org/2000/svg'
      viewBox='0 0 133.60001 32'
      fill='currentColor'
    >
      <path
        d='M129.4,4.8H109c-2.3,0-4.2,1.8-4.2,4.1v14.2c0,2.3,1.9,4.1,4.2,4.1h20.4c2.3,0,4.2-1.8,4.2-4.1V8.9
	C133.6,6.6,131.7,4.8,129.4,4.8L129.4,4.8z M121.4,17.9c0,2.9-2.1,4.9-5.5,4.9s-5.5-2-5.5-4.9v-7.5c0-0.7,0.5-1.2,1.2-1.2
	c0.7,0,1.2,0.5,1.2,1.2v7.3c0,1.7,1.4,3.1,3.1,3.1s3.1-1.4,3.1-3.1v-7.3c0-0.7,0.5-1.2,1.2-1.2s1.2,0.5,1.2,1.2
	C121.4,10.4,121.4,17.9,121.4,17.9z M127.9,21.6c0,0.7-0.5,1.2-1.2,1.2s-1.2-0.5-1.2-1.2V10.4c0-0.7,0.5-1.2,1.2-1.2
	s1.2,0.5,1.2,1.2C127.9,10.4,127.9,21.6,127.9,21.6z M42,7.5c0,1-0.8,1.8-1.8,1.8c-0.5,0-0.9-0.2-1.3-0.5c-0.3-0.4-0.5-0.8-0.5-1.3
	c0-1,0.8-1.8,1.8-1.8S42,6.5,42,7.5z M38.5,11.5h3.3v14.2h-3.3V11.5z M58.4,9.2h-5.8v16.4h-3.4V9.2h-5.8V6.3h15V9.2z M74.7,11.5H78
	l-3.9,14.2h-3.5l-2.8-10.4h-0.1l-2.8,10.4h-3.5l-3.9-14.2h3.4l2.4,10.9h0.1l2.8-10.9h3.2l2.8,10.9h0.1
	C72.3,22.4,74.7,11.5,74.7,11.5z M83.1,7.5c0,1-0.8,1.8-1.8,1.8c-0.5,0-0.9-0.2-1.3-0.5c-0.3-0.4-0.5-0.8-0.5-1.3
	c0-1,0.8-1.8,1.8-1.8S83.1,6.5,83.1,7.5z M79.6,11.5H83v14.2h-3.3C79.7,25.7,79.6,11.5,79.6,11.5z M98.5,16.5v9.2h-3.3v-8.5
	c0-2-0.9-3.1-2.8-3.1c-1.7,0-3.1,1.3-3.2,3v8.6h-3.3l-0.1-14.2H89v2.4h0.1c0.8-1.8,2.6-2.8,4.5-2.7C96.7,11.2,98.5,13.2,98.5,16.5z
	 M28.3,9.4v13.4c0,1-0.5,1.9-1.4,2.4l-10.8,6.4c-0.4,0.2-0.8,0.3-1.2,0.3c-0.4,0-0.8-0.1-1.2-0.3c-0.7-0.4-1.2-1.2-1.2-2.1V18.7
	c0-0.1,0-0.2-0.1-0.2l-1.8-1.1c-0.7-0.5-1-1.4-0.5-2.2c0.3-0.5,0.8-0.8,1.3-0.8c0.3,0,0.6,0.1,0.8,0.2l2.1,1.3
	c0.8,0.5,1.3,1.4,1.3,2.3v9.9l9.4-5.6c0.1,0,0.1-0.1,0.1-0.2l0-12.7c0-0.1-0.1-0.2-0.1-0.2L14.2,3.3c0,0-0.1,0-0.1,0
	c0,0-0.1,0-0.1,0L3.2,9.6C3.1,9.7,3.1,9.7,3.1,9.8l0,12.7c0,0.1,0.1,0.2,0.1,0.2l5.9,3.6c0.7,0.4,1,1.4,0.6,2.1
	c-0.3,0.5-0.8,0.8-1.3,0.8c-0.2,0-0.5-0.1-0.7-0.2h0l-6.2-3.8c-0.3-0.2-0.5-0.4-0.8-0.7C0.2,24.1,0,23.5,0,22.8V9.4
	c0-1,0.5-1.9,1.4-2.4l11.4-6.7C13.2,0.1,13.7,0,14.1,0c0.5,0,0.9,0.1,1.3,0.4L26.9,7C27.7,7.5,28.3,8.5,28.3,9.4L28.3,9.4z
	 M12.1,10.8c0-1.1,0.9-2.1,2-2.1c1.1,0,2,0.9,2,2.1c0,1.1-0.9,2.1-2,2.1C13,12.9,12.1,11.9,12.1,10.8z'
      ></path>
    </svg>
  </a>

  <nav aria-label='Global site'>
    <a href='/docs/introduction'>Documentation</a>
    <a href='https://www.github.com/iTwin/iTwinUI-react' class='github-link'>
      <VisuallyHidden>GitHub</VisuallyHidden>
      <svg width='32' height='32' viewBox='0 0 24 24' fill='currentColor'
        ><path
          d='M12.026 2a9.975 9.975 0 0 0-3.153 19.439c.5.09.679-.217.679-.481c0-.237-.008-.865-.011-1.7c-2.775.6-3.361-1.338-3.361-1.338a2.635 2.635 0 0 0-1.107-1.459c-.9-.619.069-.605.069-.605c.64.088 1.205.467 1.527 1.028a2.124 2.124 0 0 0 2.9.829c.046-.506.272-.979.635-1.334c-2.214-.251-4.542-1.107-4.542-4.93a3.865 3.865 0 0 1 1.026-2.671a3.588 3.588 0 0 1 .1-2.64s.837-.269 2.742 1.021a9.439 9.439 0 0 1 4.992 0c1.906-1.291 2.742-1.021 2.742-1.021c.37.835.405 1.78.1 2.64a3.84 3.84 0 0 1 1.024 2.675c0 3.833-2.33 4.675-4.552 4.922c.48.49.725 1.162.675 1.846c0 1.334-.012 2.41-.012 2.737c0 .267.178.577.687.479A9.975 9.975 0 0 0 12.026 2Z'
        ></path>
      </svg>
    </a>
  </nav>
</header>

<style lang='scss'>
  header {
    z-index: 11;
    width: 100%;
    height: calc(5 * var(--space-3));
    padding: 0 var(--space-3);
    display: flex;
    gap: 1rem;
    align-items: center;
    border-bottom: 1px solid var(--color-line-2);
  }

  .logo {
    display: flex;
    align-items: center;
    font-size: var(--type-3);
    flex-shrink: 0;
    gap: 0.25em;
    margin-right: auto;
    text-decoration: none;
    color: var(--color-text);
    outline-offset: -1px;
  }

  nav {
    display: flex;
    gap: var(--space-2);
    align-items: center;
    margin-left: auto;
  }

  a {
    display: flex;
    align-items: center;
    border-radius: var(--border-radius-1);
    padding: var(--space-2) var(--space-3);
    color: var(--color-text);
    text-decoration: none;
    opacity: 0.9;

    &:hover {
      opacity: 1;
      background-color: var(--color-active);
    }
  }

  .github-link {
    display: flex;
    border-radius: 9e9px;
    padding: var(--space-2);

    svg {
      width: 1.5em;
      height: 1.5em;
    }
  }

  @media (min-width: 50em) {
    .menu-toggle {
      display: none;
    }
  }
</style>
